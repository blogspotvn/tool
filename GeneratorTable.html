<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Table</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <script src="/js/2.0.8/clipboard.min.js"></script>
    <link href='/images/favicon.ico' rel='icon' type='image/x-icon'>
    <style>
        .logotop {
            width: 40px;
            float: left;
        }
         .top-header{
            height: 40px;
        }
         .text {
             width: max-content;
             float: left;
             margin: 5px 10px;
             font-size: 25px;
             font-weight: 700;
             color: #777;
        }
                pre {
                    display: none;
                }
        
                .input-form {
                    margin-bottom: 20px;
                }
        
                label {
                    font-weight: bold;
                    margin-right: 10px;
                }
        
                input[type="number"] {
                    width: 50px;
                    padding: 5px;
                    border: 1px solid #ccc;
                    border-radius: 3px;
                    margin-right: 20px;
                }
        
                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin: 20px 0;
                }
        
                table, th, td {
                    border: 1px solid #ccc;
                    padding: 10px;
                    text-align: center;
                }
        
                th {
                    background-color: #007bff;
                    color: #fff;
                }
        
                td {
                    background-color: #f9f9f9;
                    min-width: 20px;
                }
        
                .code-container {
                    padding: 0 20px;
                    border: 1px solid #ccc;
                    background-color: #f9f9f9;
                }
                .btn-copy {
                    display: none;
                }

    </style>
</head>
<div class="container">
    <div class="top-header">
        <a class="logo" href="https://tool.blogspotvn.net" id="logo">
            <div class="logotop">
                <svg viewBox="0 0 437.5 437.5" x="0px" y="0px">
<g>
<path d="M437.5,406.2c0,17.2-14,31.2-31.2,31.2h-375C14,437.5,0,423.5,0,406.2v-375C0,14,14,0,31.2,0h375   c17.2,0,31.2,14,31.2,31.2V406.2z" fill="#005b53"></path>
<linearGradient gradientTransform="matrix(0.5 0 0 -0.5 -370.125 59.625)" gradientUnits="userSpaceOnUse" id="SVGID_1_" x1="1037.974" x2="1449.1095" y1="-220.1406" y2="-631.276">
<stop offset="0" style="stop-color:#3E2723;stop-opacity:0.2"></stop>
<stop offset="1" style="stop-color:#3E2723;stop-opacity:0"></stop>
</linearGradient>
<path d="M140.6,140.6l-24,180.3l116.7,116.6h173c17.2,0,31.2-14,31.2-31.2V274.9L279.2,116.6L140.6,140.6z" fill="url(#SVGID_1_)"></path>
<path d="M406.2,434.9h-375C14,434.9,0,420.9,0,403.6v2.6c0,17.2,14,31.2,31.2,31.2h375   c17.2,0,31.2-14,31.2-31.2v-2.6C437.5,420.9,423.5,434.9,406.2,434.9z" fill="#3E2723" fill-opacity="0.2"></path>
<path d="M406.2,0h-375C14,0,0,14,0,31.2v2.6C0,16.6,14,2.6,31.2,2.6h375   c17.2,0,31.2,14,31.2,31.3v-2.6C437.5,14,423.5,0,406.2,0z" fill="#FFFFFF" fill-opacity="0.2"></path>
<path d="M328.1,187.5h-10.4c-8.6,0-15.6-7-15.6-15.6c0-43.1-35-78.1-78.1-78.1h-52.1c-43.1,0-78.1,35-78.1,78.1   v93.8c0,43.1,35,78.1,78.1,78.1h93.8c43.1,0,78.1-35,78.1-78.1v-62.5C343.8,194.5,336.8,187.5,328.1,187.5z M171.9,156.2h62.5   c8.6,0,15.6,7,15.6,15.6s-7,15.6-15.6,15.6h-62.5c-8.6,0-15.6-7-15.6-15.6S163.2,156.2,171.9,156.2z M265.6,281.2h-93.8   c-8.6,0-15.6-7-15.6-15.6s7-15.6,15.6-15.6h93.8c8.6,0,15.6,7,15.6,15.6S274.3,281.2,265.6,281.2z" fill="#F1F1F1"></path>
<path d="M171.9,252.6h93.8c8.2,0,14.8,6.3,15.5,14.3c0.1-0.4,0.2-0.8,0.2-1.3   c0-8.6-7-15.6-15.6-15.6h-93.8c-8.6,0-15.6,7-15.6,15.6c0,0.5,0.1,0.9,0.2,1.3C157,258.9,163.7,252.6,171.9,252.6z M171.9,158.9   h62.5c8.2,0,14.8,6.3,15.5,14.3c0.1-0.4,0.2-0.8,0.2-1.3c0-8.6-7-15.6-15.6-15.6h-62.5c-8.6,0-15.6,7-15.6,15.6   c0,0.5,0.1,0.9,0.2,1.3C157,165.2,163.7,158.9,171.9,158.9z M265.6,343.8h-93.8c-43.1,0-78.1-35-78.1-78.1v2.6   c0,43.1,35,78.1,78.1,78.1h93.8c43.1,0,78.1-35,78.1-78.1v-2.6C343.8,308.8,308.8,343.8,265.6,343.8z" fill="#3E2723" fill-opacity="0.1"></path>
<path d="M265.6,281.2h-93.8c-8.2,0-14.8-6.3-15.5-14.3c-0.1,0.4-0.2,0.8-0.2,1.3   c0,8.6,7,15.6,15.6,15.6h93.8c8.6,0,15.6-7,15.6-15.6c0-0.5-0.1-0.9-0.2-1.3C280.5,274.9,273.8,281.2,265.6,281.2z M328.1,187.5   h-10.4c-8.6,0-15.6-7-15.6-15.6c0-43.1-35-78.1-78.1-78.1h-52.1c-43.1,0-78.1,35-78.1,78.1v2.6c0-43.1,35-78.1,78.1-78.1H224   c43.1,0,78.1,35,78.1,78.1c0,8.6,7,15.6,15.6,15.6h10.4c8.6,0,15.6,7,15.6,15.6v-2.6C343.8,194.5,336.8,187.5,328.1,187.5z    M171.9,190.1h62.5c8.6,0,15.6-7,15.6-15.6c0-0.5-0.1-0.9-0.2-1.3c-0.6,8-7.3,14.3-15.5,14.3h-62.5c-8.2,0-14.8-6.3-15.5-14.3   c-0.1,0.4-0.2,0.8-0.2,1.3C156.2,183.1,163.2,190.1,171.9,190.1z" fill="#FFFFFF" fill-opacity="0.4"></path>
<radialGradient cx="763.4896" cy="103.2396" gradientTransform="matrix(0.5 0 0 -0.5 -370.125 59.625)" gradientUnits="userSpaceOnUse" id="SVGID_2_" r="1186.0625">
<stop offset="0.32" style="stop-color:#FFFFFF"></stop>
<stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0"></stop>
</radialGradient>
<path d="M437.5,406.2c0,17.2-14,31.2-31.2,31.2h-375C14,437.5,0,423.5,0,406.2v-375   C0,14,14,0,31.2,0h375c17.2,0,31.2,14,31.2,31.2V406.2z" fill="url(#SVGID_2_)" fill-opacity="0.1"></path>
</g>
</svg>
            </div>
            <div class="text">BlogspotVN.Net</div>
        </a>
    </div>
    <div class="row">
        <h1>Generator Table</h1>
    </div>
    <div class="input-form">
        <label for="num-rows">Số dòng:</label>
        <input type="number" id="num-rows">
        <label for="num-cols">Số cột:</label>
        <input type="number" id="num-cols"><br>
    </div>
    <button class='btn btn-primary' onclick="generateTable()">Tạo bảng</button>
    <button class='btn btn-reset' onclick="resetTable()">Reset</button>
    <div id="tables"></div>

    <div class="code-container">
        <pre id="code-container"></pre>
    </div>
<button class='btn btn-copy' id="copy-button" onclick="copyTable()">Copy</button>

</div>
<div class="copyright-container">
    <p class="text-center ">©
        <span id='current-year'></span>
        <script type='text/javascript'>
            function getCurrentYear() {
                var d = new Date();
                return d.getFullYear();
                }
                el = document.getElementById('current-year');
                el.innerHTML = getCurrentYear();
        </script>
        by
        <a href="https://www.blogspotvn.net/ ">BlogspotVN.Net</a>
    </p>
</div>
<script>
    function formatHTML(html) {
            const tab = "    ";
            let result = "";
            let indentLevel = 0;

            html.split(/>\s*</).forEach(function(element) {
                if (element.match(/^\/\w/)) {
                    indentLevel--;
                }

                result += `${" ".repeat(indentLevel * 4)}<${element}>\n`;

                if (element.match(/^<?\w[^>]*[^/]$/)) {
                    indentLevel++;
                }
            });

            return result.trim();
        }

function generateTable() {
    const numRows = parseInt(document.getElementById("num-rows").value);
    const numCols = parseInt(document.getElementById("num-cols").value);
    const tablesContainer = document.getElementById("tables");
    const codeContainer = document.getElementById("code-container");
    const preElement = document.querySelector("pre");
    const copyButton = document.getElementById("copy-button"); // Lấy thẻ nút "Sao chép"

    const table = document.createElement("table");
    const tbody = document.createElement("tbody");

    for (let i = 1; i <= numRows; i++) {
        const row = document.createElement("tr");
        for (let j = 1; j <= numCols; j++) {
            const cell = document.createElement("td");
            cell.contentEditable = true;
            row.appendChild(cell);
        }
        tbody.appendChild(row);
    }

    table.appendChild(tbody);
    tablesContainer.innerHTML = "";
    tablesContainer.appendChild(table);

    copyButton.style.display = "block"; 

    const exportButton = document.createElement("button");
    exportButton.classList.add("btn-primary");
    exportButton.textContent = "Xuất mã HTML";
    exportButton.classList.add("btn");
    exportButton.addEventListener("click", () => {
        const editableCells = table.querySelectorAll('[contenteditable="true"]');
        editableCells.forEach((cell) => {
            cell.removeAttribute("contenteditable");
        });

        const tableHtml = table.outerHTML;
        const cleanedHtml = tableHtml.replace(/^<|>$/g, '').trim();
        const formattedHtml = formatHTML(cleanedHtml);

        preElement.textContent = formattedHtml;
        preElement.style.display = "block";
        exportButton.style.display = "none";
    });

    tablesContainer.appendChild(exportButton);
}


function resetTable() {
    const tablesContainer = document.getElementById("tables");
    const codeContainer = document.getElementById("code-container");
    const numRowsInput = document.getElementById("num-rows");
    const numColsInput = document.getElementById("num-cols");
    const copyButton = document.getElementById("copy-button"); 

    const table = tablesContainer.querySelector("table");
    if (table) {
        table.remove();
    }

    codeContainer.textContent = "";
    numRowsInput.value = "";
    numColsInput.value = "";

    copyButton.style.display = "none"; 
}

    function copyTable() {
    const preElement = document.getElementById("code-container");
    const textToCopy = preElement.textContent;

    const tempTextArea = document.createElement("textarea");
    tempTextArea.value = textToCopy;
    document.body.appendChild(tempTextArea);

    tempTextArea.select();
    tempTextArea.setSelectionRange(0, 99999); 

    document.execCommand("copy");

    document.body.removeChild(tempTextArea);

    alert("Copied to clipboard: " + textToCopy);
}


</script>
</body>

</html>
